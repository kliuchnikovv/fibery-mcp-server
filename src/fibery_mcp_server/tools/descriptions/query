Run any Fibery API command. This gives tremendous flexibility, but requires a bit of experience with the low-level Fibery API. In case query succeeded, return value contains a list of records with fields you specified in select. If request failed, will return detailed error message.

⚠️ CRITICAL WARNINGS - READ FIRST:
1. This is NOT SQL! Do not use SQL syntax like "WHERE field LIKE '%value%'" or "SELECT field1, field2"
2. Parameter names are: q_from, q_select, q_where, q_params (NOT database_name, NOT where, NOT query)
3. q_select MUST be an object like {
    "Name": "Space/name"
}, NOT an array, NOT boolean values
4. q_where MUST be an array like [
    "=",
    [
        "field"
    ],
    "$param"
], NOT a string
5. ALL filter values MUST use $param syntax with q_params object

CRITICAL: FIELD NAMING CONVENTION
- Field names MUST match the database schema exactly
- Use "Space/FieldName" format (e.g.,
"Software Development/name", NOT "fibery/name")
- System fields use "fibery/" prefix: "fibery/id",
"fibery/public-id",
"fibery/creation-date"
- Workflow fields use "workflow/" prefix: "workflow/state"
- Always check the database schema first if unsure about field names!

CRITICAL: PARAMETER USAGE
- ALL values in q_where filters MUST use "$paramName" syntax
- The actual values MUST be passed in the q_params object
- NEVER pass values directly in the where clause
- This is not optional - queries will fail without proper parameter usage!

COMMON PITFALLS TO AVOID:
1. ❌ Using "fibery/name" for entity names → ✅ Use "Space/name" (e.g.,
"Software Development/name")
2. ❌ Passing values directly in q_where: [
    "=",
    [
        "field"
    ],
    "value"
] → ✅ Use params: [
    "=",
    [
        "field"
    ],
    "$param"
] with q_params: {
    "$param": "value"
}
3. ❌ Using q/contains for text search → ✅ q/contains ONLY works for collection membership, use "=" for exact text match
4. ❌ Forgetting "fibery/id" in q/contains: [
    "q/contains",
    [
        "Tags"
    ],
    "$id"
] → ✅ Include it: [
    "q/contains",
    [
        "Tags",
        "fibery/id"
    ],
    "$id"
]
5. ❌ Trying to filter by tag name directly → ✅ First query for tag UUID, then use it in q/contains
6. ❌ Using SQL syntax: "WHERE Name LIKE '%mcp%'" → ✅ Use array format: [
    "=",
    [
        "Space/name"
    ],
    "$name"
]
7. ❌ Wrong parameter names: database_name, where, query → ✅ Use: q_from, q_where, q_params
8. ❌ Array q_select: [
    "Name",
    "Id"
] → ✅ Object format: {
    "Name": "Space/name",
    "Id": "fibery/id"
}
9. ❌ Boolean q_select: {
    "Name": true
} → ✅ Field paths: {
    "Name": "Space/name"
}

TEXT SEARCH LIMITATION:
Text search (substring matching) on string fields like Name or Description is NOT supported. The q/contains operator only works for checking collection membership (many-to-many relationships). For finding entities by name, use exact match with "=" operator, or ask the user to provide more specific criteria (tags, states, dates, etc.).

HOW TO FILTER BY TAGS (Step-by-Step):
Since tags are a many-to-many relationship and require UUIDs, you must:
1. First, query the Tags database to find the tag UUID by name
2. Then, use that UUID with q/contains to filter entities

Example workflow:
Step 1 - Find tag UUID: {
    "q_from": "Software Development/Tags",
    "q_select": {
        "Id": "fibery/id",
        "Name": "Software Development/Name"
    },
    "q_where": [
        "=",
        [
            "Software Development/Name"
        ],
        "$tagName"
    ],
    "q_limit": 1,
    "q_params": {
        "$tagName": "mcp"
    }
}

Step 2 - Use tag UUID to filter tasks: {
    "q_from": "Software Development/Task",
    "q_select": {
        "Id": "fibery/id",
        "Name": "Software Development/name"
    },
    "q_where": [
        "q/contains",
        [
            "Software Development/Tags",
            "fibery/id"
        ],
        "$tagId"
    ],
    "q_limit": 200,
    "q_params": {
        "$tagId": "uuid-from-step-1"
    }
}

EXAMPLES (note, that these databases are non-existent, use databases only from user's schema!):

Query: What newly created Features do we have for the past 2 months?
Tool use: {
    "q_from": "Dev/Feature",
    "q_select": {
        "Name": "Dev/Name",
        "Public Id": "fibery/public-id",
        "Creation Date": "fibery/creation-date"
    },
    "q_where": [
        ">",
        [
            "fibery/creation-date"
        ],
        "$twoMonthsAgo"
    ],
    "q_order_by": {
        "fibery/creation-date": "q/desc"
    },
    "q_limit": 100,
    "q_offset": 0,
    "q_params": {
        "$twoMonthsAgo": "2025-01-16T00:00:00.000Z"
    }
}

Query: What Admin Tasks for the past week are Approval or Done?
Tool use: {
    "q_from": "Administrative/Admin Task",
    "q_select": {
        "Name": "Administrative/Name",
        "Public Id": "fibery/public-id",
        "Creation Date": "fibery/creation-date",
        "State": [
            "workflow/state",
            "enum/name"
        ]
    },
    "q_where": [
        "q/and",
        [
            ">",
            [
                "fibery/creation-date"
            ],
            "$oneWeekAgo"
        ],
        [
            "q/or",
            [
                "=",
                [
                    "workflow/state",
                    "enum/name"
                ],
                "$state1"
            ],
            [
                "=",
                [
                    "workflow/state",
                    "enum/name"
                ],
                "$state2"
            ]
        ]
    ],
    "q_order_by": {
        "fibery/creation-date": "q/desc"
    },
    "q_limit": 100,
    "q_offset": 0,
    "q_params": {
        "$oneWeekAgo": "2025-03-07T00:00:00.000Z",
        "$state1": "Approval",
        "$state2": "Done"
    }
}

Query: What Admin Tasks are not finished yet?
Tool use: {
    "q_from": "Administrative/Admin Task",
    "q_select": {
        "State": [
            "workflow/state",
            "enum/name"
        ],
        "Public Id": "fibery/public-id",
        "Creation Date": "fibery/creation-date",
        "Modification Date": "fibery/modification-date",
        "Deadline": "Administrative/Deadline",
        "Group": [
            "Administrative/Group",
            "Administrative/name"
        ],
        "Name": "Administrative/Name",
        "Priority": [
            "Administrative/Priority_Administrative/Admin Task",
            "enum/name"
        ]
    },
    "q_where": [
        "!=",
        [
            "workflow/state",
            "workflow/Final"
        ],
        "$stateType"
    ],
    "q_order_by": {
        "fibery/creation-date": "q/desc"
    },
    "q_limit": 100,
    "q_offset": 0,
    "q_params": {
        "$stateType": true
    }
}

Query: Summarize acc contacts with public id 1.
Tool use: {
    "q_from": "Accounting/Acc Contacts",
    "q_select": {
        "Name": "Accounting/Name",
        "Public Id": "fibery/public-id",
        "Creation Date": "fibery/creation-date",
        "Description": "Accounting/Description"
    },
    "q_where": [
        "=",
        [
            "fibery/public-id"
        ],
        "$publicId"
    ],
    "q_limit": 1,
    "q_params": {
        "$publicId": "1"
    }
}

Query: Find all Projects that have a specific User assigned to them (many-to-many relationship).
Tool use: {
    "q_from": "Project Management/Project",
    "q_select": {
        "Name": "Project Management/Name",
        "Public Id": "fibery/public-id"
    },
    "q_where": [
        "q/contains",
        [
            "Project Management/Assignees",
            "fibery/id"
        ],
        "$userId"
    ],
    "q_limit": 50,
    "q_params": {
        "$userId": "user-uuid-here"
    }
}

Query: Get tasks from a specific board with a specific tag (combined filters).
Tool use: {
    "q_from": "Software Development/Task",
    "q_select": {
        "Id": "fibery/id",
        "Name": "Software Development/name",
        "Board": [
            "Software Development/Board",
            "Software Development/name"
        ]
    },
    "q_where": [
        "q/and",
        [
            "=",
            [
                "Software Development/Board",
                "Software Development/name"
            ],
            "$boardName"
        ],
        [
            "q/contains",
            [
                "Software Development/Tags",
                "fibery/id"
            ],
            "$tagId"
        ]
    ],
    "q_limit": 200,
    "q_params": {
        "$boardName": "Software Development",
        "$tagId": "tag-uuid-here"
    }
}

REMEMBER: When using q/contains with collections, you MUST specify the field path including "fibery/id": [
    "CollectionName",
    "fibery/id"
]